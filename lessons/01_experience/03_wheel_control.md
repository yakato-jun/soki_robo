# 車輪を回す

**目的**: 制御の最初の一歩。自分が書いたコードで物が動く体験。

---

## ロボットへの命令の送り方

このロボット（Yahboom MSPM0）には、Pythonから **Modbus通信** で命令を送ります。

Modbusとは:
- ロボットへの命令の送り方の一つ（通信プロトコル）
- 「このアドレスにこの値を書き込め」という形式
- 細かい仕様は覚えなくてOK。**ライブラリが用意されている**

```python
# イメージ（実際のコードはロボットのライブラリに依存）
robot.set_speed(left=100, right=100)  # 左右の車輪を同じ速度で回す
```

ここで大事なのは「Pythonから1行書くとロボットが動く」という体験です。

---

## 基本動作

### 前進

```python
# 左右の車輪を同じ速度で前に回す
robot.set_speed(left=100, right=100)
time.sleep(2)    # 2秒間動かす
robot.set_speed(left=0, right=0)  # 停止
```

### 後退

```python
# 速度をマイナスにすると後ろに進む
robot.set_speed(left=-100, right=-100)
time.sleep(2)
robot.set_speed(left=0, right=0)
```

### 旋回（その場で回る）

```python
# 左右逆方向に回すとその場で旋回する
robot.set_speed(left=-100, right=100)  # 右旋回
time.sleep(1)
robot.set_speed(left=0, right=0)
```

### 停止

```python
robot.set_speed(left=0, right=0)
```

---

## やってみよう

### 速度を変えてみる

- `100` を `50` に変えると？ → ゆっくり動く
- `200` にすると？ → 速く動く
- 左右で速度を変えると？ → カーブする

### 時間を変えてみる

- `sleep(2)` を `sleep(5)` にすると？ → もっと長く動く
- `sleep(0.5)` にすると？ → ちょっとだけ動く

### 左右差をつけてみる

```python
# 左を速く、右をゆっくり → 右にカーブ
robot.set_speed(left=150, right=50)
time.sleep(3)
robot.set_speed(left=0, right=0)
```

「左右の速度差で曲がる」— これが差動二輪ロボットの基本原理です。
大枠3で学ぶ「差動二輪の運動学」は、まさにこの原理を数式にしたものです。

---

## 気づいてほしいこと

- 速度を決めると距離は時間で決まる（速度 × 時間 = 距離）
- 左右の速度差で旋回する
- 止める命令を送り忘れると、止まらない（安全に注意）
- 同じ命令でも毎回ちょっとだけ違う動きをする → **これが後で重要になる**

最後の点 — 「理論通りに動かしても、現実にはズレが出る」。
このズレをどう扱うかが、大枠2（確率）と大枠3（推定・制御）の核心です。

---

**次のレッスン**: → #04 三角関数 (`02_engineering_math/01_trigonometry`)
